<!--
  title: string
  link: string
  rel: bool
-->


{{ $file := replace .title " " "" }}


<section
  id='{{ $file }}'
  class='Thumb'
  aria-label='{{ .title | title }}'
  flexr-grid
>

  <hgroup class='fade-Up-2'>

    <h3> {{ .title | title }} </h3>

    <h4>{{ T $file }}</h4>

  </hgroup>

  <div class='cta fade-Up-4'>


    <!-- Preview -->

    {{ $preview := newScratch }}
    {{ $preview.Set "type" "link" }}
    {{ $preview.Set "theme" "primary"}}
    {{ $preview.Set "text" ( T "preview") }}
    {{ $preview.Set "link" $file }}

    {{ partial "Btn" $preview.Values }}


    <!-- Visit -->

    {{ if .link }}

      {{ $visit := newScratch }}
      {{ $visit.Set "type" "link" }}
      {{ $visit.Set "theme" "secondary"}}
      {{ $visit.Set "text" ( T "visit" ) }}
      {{ $visit.Set "link" .link }}
      {{ $visit.Set "rel" .rel }}

      {{ partial "Btn" $visit.Values }}

    {{ end }}

  </div>

  <picture class='fade-Up-1'>


    <!-- Presentational image -->

    <source
      type='image/webp'
      srcset='
        /img/{{ $file }}/{{ $file }}-1-xs.webp 750w,
        /img/{{ $file }}/{{ $file }}-1-sm.webp 1080w,
        /img/{{ $file }}/{{ $file }}-1-md.webp 1280w
      '
    />

    <source
      type='image/jpeg'
      srcset='
        /img/{{ $file }}/{{ $file }}-1-xs.jpg 750w,
        /img/{{ $file }}/{{ $file }}-1-sm.jpg 1080w,
        /img/{{ $file }}/{{ $file }}-1-md.jpg 1280w
      '
    />
    
    <img
      src='/img/{{ $file }}/{{ $file }}-1-md.jpg'
      alt=''
    />

  </picture>

</section>
